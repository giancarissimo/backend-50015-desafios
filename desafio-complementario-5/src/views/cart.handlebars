{{>header}}
<section class="section_cart">
    {{#unless products}}
    <h1>Your Bag is empty.</h1>
    <span>Free delivery and free returns.</span>
    <a class="cart_link_shopping" href="/products">Continue Shopping</a>
    {{/unless}}
    {{#if products}}
    <h1>Review your Bag. <Span>Free delivery <br> and free returns.</Span></h1>
    <div class="cart_promo_container">
        <div class="cart_promo">
            <div class="cart_promo_img">
                <img src="../assets/images/cart/apple_promo_logo.jpg" alt="Apple Promo Logo">
            </div>
            <div class="cart_promo_span">
                <span>Items not purchased with a one time payment may be eligible for $83.00/mo. at 0% APR when you
                    check out with Apple Card Monthly Installments.</span>
            </div>
        </div>
    </div>
    <ol class="cart_productList">
        {{#each products }}
        <li class="cart_product">
            <div class="cart_product_img">
                <img src="../assets/images/store/{{this.product.thumbnails}}" alt="{{this.product.title}}">
            </div>
            <div class="cart_product_text">
                <div class="cart_product_text_title">
                    <h2>{{this.product.title}}</h2>
                </div>
                <div class="cart_product_text_price_mobile">
                    <div class="counter_btn_container_mobile">
                        <button class="counter_btn" id="less-quantity-{{this.product._id}}"
                            onclick="removeOne('{{this.product._id}}','{{this.product.price}}','{{cartId}}','{{this.product.stock}}','{{this.quantity}}')">-</button>
                        <span id="mobile-quantity-{{this.product._id}}">{{this.quantity}}</span>
                        <button class="counter_btn" id="more-quantity-{{this.product._id}}"
                            onclick="addOne('{{this.product._id}}','{{this.product.price}}','{{cartId}}','{{this.product.stock}}','{{this.quantity}}')">+</button>
                    </div>
                    <p id="mobile-cartProductPrice-{{this.product._id}}">${{this.product.price}}</p>
                </div>
                <div class="counter_btn_container">
                    <button class="counter_btn" id="less-quantity-{{this.product._id}}"
                        onclick="removeOne('{{this.product._id}}','{{this.product.price}}','{{cartId}}','{{this.product.stock}}','{{this.quantity}}')">-</button>
                    <span class="cart_product_text_span" id="quantity-{{this.product._id}}">{{this.quantity}}</span>
                    <button class="counter_btn" id="more-quantity-{{this.product._id}}"
                        onclick="addOne('{{this.product._id}}','{{this.product.price}}','{{cartId}}','{{this.product.stock}}','{{this.quantity}}')">+</button>
                </div>
                <p id="cartProductPrice-{{this.product._id}}" class="cart_product_text_price">${{this.product.price}}</p>
                <button class="cart_product_remove" onclick="deleteProductInCart('{{cartId}}', '{{this.product._id}}')">Remove</button>
            </div>
        </li>
        {{/each}}
    </ol>
    <div class="cart_totalProducts">
        <div class="cart_totalProducts_subtotal">
            <span>Subtotal</span>
            <span id="subTotalPurchase">${{totalPurchase}}</span>
        </div>
        <div class="cart_totalProducts_shipping">
            <span>Shipping</span>
            <span>FREE</span>
        </div>
        <div class="cart_totalProducts_total">
            <p>Total</p>
            <p id="totalPurchase">${{totalPurchase}}</p>
        </div>
    </div>
    <div class="cart_options_container">
        <h2>What would you like to do?</h2>
        <div class="cart_options">
            <div class="cart_options_clear">
                <h3>Clear all the products from your bag.</h3>
                <button onclick="clearCart('{{cartId}}')">Clear Cart</button>
            </div>
            <div class="cart_options_checkout">
                <h3>Proceed to checkout.</h3>
                <a href="/checkout">
                    <button>Check Out</button>
                </a>
            </div>
        </div>
    </div>
    <div class="cart_options_container_mobile">
        <button onclick="clearCart('{{cartId}}')">Clear Cart</button>
        <a href="/checkout">
            <button>Check Out</button>
        </a>
    </div>
    {{/if}}
</section>
{{>cartHelp}}
{{>cartNews}}
{{>footer}}
<script src="/js/cart.js"></script>